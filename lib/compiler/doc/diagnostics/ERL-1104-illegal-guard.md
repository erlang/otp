# ERL-1104 - Illegal guard

## Example

```erlang
%% foo.erl
-module(foo).
t(A, B) when A ++ [x] =:= B -> ok.
```

```
$ erlc foo.erl
foo.erl:2:16: illegal guard expression
%    2| t(A, B) when A ++ [x] =:= B -> ok.
%     |                ^
% help: call `erlc -explain ERL-1104` to see a detailed explanation
```

## Explanation

This error is generated by the Erlang linter when it sees an illegal guard
expression. Only a subset of valid Erlang expressions are valid guard
expressions. This is because a guard expression cannot have side effects.

The most general way to fix this error is to rewrite the guard expression
into a `case` block. It is possible to rewrite all valid Erlang expressions
this way. The example above looks like this after rewriting:

```erlang
t(A, B) ->
    case A ++ [x] =:= B of
        true -> ok
    end.
```

Alternatively, replace the illegal function call with a call to the BIF
or another expression that is allowed in guards. Some guard expressions
can also be rewritten into a `maybe` block.

To see the list of expressions allowed in guards, please refer to the
[Reference Manual](`e:system:expressions#guard-expressions`).
