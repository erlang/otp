# ERL-1103 - Illegal call in guard

## Example

```erlang
%% foo.erl
-module(foo).
-compile(nowarn_unused_function).
t1(X) when t2(X) =:= 0 -> X.
t2(X) -> X.
```

```
$ erlc foo.erl
foo.erl:3:12: call to local/imported function t2/1 is illegal in guard
%    3| t1(X) when t2(X) =:= 0 -> X.
%     |            ^
% help: call `erlc -explain ERL-1103` to see a detailed explanation
```

## Explanation

This error is generated by the Erlang linter when it encounters an illegal
function call in guards. Most function calls are not allowed in guards.
Only a subset of BIFs are allowed. This is because a guard expression
cannot have side effects.

The most general way to fix this error is to rewrite the guard expression
into a `case` block. All function calls can be put between `case of`. The
example above can be rewritten like this:

```erlang
t1(X) ->
    case t2(X) of
        0 -> X
    end.
```

Alternatively, replace the illegal function call with a call to the BIF
or another expression that is allowed in guards. Some guard expressions
can also be rewritten into a `maybe` block.

To see the list of BIFs allowed in guards, please refer to tables *Type Test
BIFs* and *Other BIFs Allowed in Guard Expressions* in the
[Reference Manual](`e:system:expressions#guard-expressions`).
