<?xml version="1.0" encoding="latin1" ?>
<!DOCTYPE chapter SYSTEM "chapter.dtd">

<chapter>
  <header>
    <copyright>
      <year>2004</year><year>2011</year>
      <holder>Ericsson AB. All Rights Reserved.</holder>
    </copyright>
    <legalnotice>
      The contents of this file are subject to the Erlang Public License,
      Version 1.1, (the "License"); you may not use this file except in
      compliance with the License. You should have received a copy of the
      Erlang Public License along with this software. If not, it can be
      retrieved online at http://www.erlang.org/.

      Software distributed under the License is distributed on an "AS IS"
      basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See
      the License for the specific language governing rights and limitations
      under the License.

    </legalnotice>

    <title>Common Test Release Notes</title>
    <prepared>Peter Andersson</prepared>
    <responsible>Peter Andersson</responsible>
    <docno></docno>
    <approved></approved>
    <checked></checked>
    <date>2007-12-01</date> 
    <rev>A</rev>
    <file>notes.xml</file>
    </header>

<section><title>Common_Test 1.5.5</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    An error in how comments are colored in the test suite
	    overview html log file has been corrected. As result, a
	    new framework callback function, format_comment/1, has
	    been introduced.</p>
          <p>
	    Own Id: OTP-9237</p>
        </item>
        <item>
          <p>
	    Automatically generated init- and end-configuration
	    functions for test case groups caused incorrect execution
	    order of test cases. This has been corrected.</p>
          <p>
	    Own Id: OTP-9369</p>
        </item>
        <item>
          <p>
	    If multiple directories were specified with the 'logdir'
	    flag/option, Common Test would crash. This has been fixed
	    so that an error is properly reported instead.</p>
          <p>
	    Own Id: OTP-9370</p>
        </item>
        <item>
          <p>
	    If ct:log/2 was called with bad arguments, this could
	    cause the Common Test IO handling process to crash. This
	    fault has been corrected.</p>
          <p>
	    Own Id: OTP-9371 Aux Id: OTP-8933 </p>
        </item>
        <item>
          <p>
	    A bug has been fixed that made Test Server call the
	    end_tc/3 framework function with an incorrect module name
	    as first argument.</p>
          <p>
	    Own Id: OTP-9379 Aux Id: seq11863 </p>
        </item>
        <item>
          <p>
	    If a timetrap timeout occured during execution of of a
	    function in a lib module (i.e. a function called directly
	    or indirectly from a test case), the Suite argument in
	    the end_tc/3 framework callback function would not
	    correctly contain the name of the test suite, but the lib
	    module. (This would only happen if the lib module was
	    compiled with ct.hrl included). This error has been
	    solved.</p>
          <p>
	    Own Id: OTP-9398</p>
        </item>
        <item>
          <p>
	    Corrections of the vts mode. It will now report errors
	    (about e.g. incorrect config files) instead of crashing
	    or hanging. Furthermore, the requirement that the test
	    directory name must have a "_test" suffix has been
	    removed. Also, a workaround has been implemented for the
	    limitation that the file browser (in many web browsers)
	    will only return the basic file name, not the full
	    directory path (which made it impossible to have config
	    files in other directories than the main test directory).</p>
          <p>
	    Own Id: OTP-9429</p>
        </item>
        <item>
          <p>
	    Add a proplist() type</p>
          <p>
	    Recently I was adding specs to an API and found that
	    there is no canonical proplist() type defined. (Thanks to
	    Ryan Zezeski)</p>
          <p>
	    Own Id: OTP-9499</p>
        </item>
        <item>
          <p>
	    It is now possible to use the 'step' flag/option to run
	    the debugger for test suites that contain test case
	    groups. This previously caused Common Test to crash. If
	    'step config' is specified, breakpoints are now also
	    automatically set on init_per_group and end_per_group.
	    Note that breakpoints are always set automatically on
	    test case functions and this is true also for grouped
	    cases.</p>
          <p>
	    Own Id: OTP-9518 Aux Id: OTP-8933 </p>
        </item>
        <item>
          <p>
	    The test index page was not refreshed at the start of
	    each test suite which made it impossible to follow test
	    execution by means of refreshing the browser window (no
	    links to follow). This has been fixed.</p>
          <p>
	    Own Id: OTP-9520 Aux Id: OTP-8933 </p>
        </item>
        <item>
          <p>
	    If a test suite would start with a test case group
	    defined without the init_per_group/2 and end_per_group/2
	    function, init_per_suite/1 would not execute initially
	    and logging of the test run would fail. This error has
	    been fixed.</p>
          <p>
	    Own Id: OTP-9584</p>
        </item>
        <item>
          <p>
	    The "Missing Suites" link from the top level index page
	    was incorrect and has been fixed.</p>
          <p>
	    Own Id: OTP-9592</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Various corrections and updates to improve the handling
	    and reporting of errors.</p>
          <p>
	    Own Id: OTP-8933</p>
        </item>
        <item>
          <p>
	    The dir and suite start option can now be used in
	    combination. E.g. executing my_SUITE in directory
	    my_tests can either be specified as "ct_run -suite
	    my_tests/my_SUITE" or as "ct_run -dir my_tests -suite
	    my_SUITE". Furthermore, the specification:
	    ct:run_test([{suite,["./my_SUITE"]},{testcase,t1}]) is
	    now interpreted as
	    ct:run_test([{suite,"./my_SUITE"},{testcase,t1}]), i.e.
	    only testcase t1 in test suite my_SUITE - not all cases -
	    will be executed.</p>
          <p>
	    Own Id: OTP-9155</p>
        </item>
        <item>
          <p>
	    A new option, 'logopts', has been introduced, to make it
	    possible to modify some aspects of the logging behaviour
	    in Common Test (or Test Server). For example, whenever an
	    io printout is made, test_server adds newline (\n) to the
	    end of the output string. This may not always be a
	    preferred action and can therefore be disabled by means
	    of "ct_run ... -logopts no_nl" (or ct:run_test([...,
	    {logopts,[no_nl]}])). A new framework callback function,
	    get_logopts/0, has been introduced (see the ct_framework
	    module for details).</p>
          <p>
	    Own Id: OTP-9372 Aux Id: OTP-9396 </p>
        </item>
        <item>
          <p>
	    A new option, 'logopts', has been introduced, to make it
	    possible to modify some aspects of the logging behaviour
	    in Common Test (or Test Server). For example, if the html
	    version of the test suite source code should not be
	    generated during the test run (and consequently be
	    unavailable in the log file system), the feature may be
	    disabled by means of "ct_run ... -logopts no_src" (or
	    ct:run_test([..., {logopts,[no_src]}])). A new framework
	    callback function, get_logopts/0, has been introduced
	    (see the ct_framework module for details).</p>
          <p>
	    Own Id: OTP-9396 Aux Id: seq11869, OTP-9372 </p>
        </item>
        <item>
          <p>
	    CT Hooks can now be assigned a priority. The priority of
	    a CTH determines when it should execute in relation to
	    other CTHs. The CTH with the lowest priority will be
	    executed first, CTHs with equal priority will be executed
	    in the order which they were installed.</p>
          <p>
	    Own Id: OTP-9445</p>
        </item>
        <item>
          <p>
	    It is now possible to use a tuple {M,F,A}, or a fun, as
	    timetrap specification in the suite info function or test
	    case info functions. The function must return a valid
	    timeout value, as documented in the common_test man page
	    and in the User's Guide.</p>
          <p>
	    Own Id: OTP-9501 Aux Id: seq11894 </p>
        </item>
        <item>
          <p>
	    A new built-in common test hook has been added which
	    captures error_logger and SASL event and prints them in
	    the testcase log. To disable this (and any other built-in
	    hooks) pass 'enable_builtin_hooks false' to common test.</p>
          <p>
	    Own Id: OTP-9543</p>
        </item>
        <item>
          <p>
	    Common Test now has the possibility to have built-in
	    hooks which are started by default when any test is run.
	    To disable built-in hooks pass 'enable_builtin_hooks
	    false' to common test. See the common test hooks
	    documentation for more details.</p>
          <p>
	    Own Id: OTP-9564</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.5.4</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    It was previously not possible to use timetrap value
	    'infinity' with ct:timetrap/1. This has been fixed.</p>
          <p>
	    Own Id: OTP-9159</p>
        </item>
        <item>
          <p>
	    The Common Test VTS mode has been updated to be able to
	    report test results of suites that include test case
	    groups (when it would previously crash).</p>
          <p>
	    Own Id: OTP-9195</p>
        </item>
        <item>
          <p>
	    Common Test now refreshes the very top level index.html
	    page at the start of each individual test in a test run,
	    so that progress of the ongoing test can be tracked by
	    following the link to its overview page.</p>
          <p>
	    Own Id: OTP-9210 Aux Id: OTP-9054 </p>
        </item>
        <item>
          <p>
	    A bug that made it impossible to cancel the previous
	    timetrap when calling ct:timetrap/1 has been corrected.</p>
          <p>
	    Own Id: OTP-9233 Aux Id: OTP-9159 </p>
        </item>
        <item>
          <p>
	    Fix bug which would make cth's to not be removed when out
	    of scope when adding a cth in suite/0 and crashing in
	    pre_init_per_suite.</p>
          <p>
	    Own Id: OTP-9264</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    It is now possible to return a tuple {fail,Reason} from
	    init_per_testcase/2. The result is that the associated
	    test case gets logged as failed without ever executing.</p>
          <p>
	    Own Id: OTP-9160 Aux Id: seq11502 </p>
        </item>
        <item>
          <p>
	    Common Test now accepts, but ignores, empty test case
	    group specifications.</p>
          <p>
	    Own Id: OTP-9161</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.5.3</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Added an option to test specs which allow the execution
	    of tests as is, instead of doing merging of tests on the
	    same "level". See the merge_tests directive the test
	    specification documentation.</p>
          <p>
	    Own Id: OTP-9026 Aux Id: seq11768 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Alpha release of Common Test Hooks (CTH). CTHs allow the
	    users of common test to abtract out common behaviours
	    from test suites in a much more elegant and flexible way
	    than was possible before. Note that the addition of this
	    feature may introduce minor changes in the undocumented
	    behaviour of the interface inbetween common_test and
	    test_server.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-8851</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.5.2</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Updated ct:get_status documentation to describe
	    no_tests_running return value.</p>
          <p>
	    Own Id: OTP-8895 Aux Id: seq11701 </p>
        </item>
        <item>
          <p>
	    Fixed race condition test failures in the test suites
	    testing common test's parallel groups feature.</p>
          <p>
	    Own Id: OTP-8921</p>
        </item>
        <item>
          <p>
	    The include directive of testspecs now work when used on
	    a remote node.</p>
          <p>
	    Own Id: OTP-8935 Aux Id: seq11731 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    ct:parse_table can now handle multiline sql rows</p>
          <p>
	    Own Id: OTP-8907 Aux Id: seq11702 </p>
        </item>
        <item>
          <p>
	    The run_test executable has been renamed to the less
	    generic ct_run to better work with other applications.
	    run_test will remain until R16B at which point it will be
	    removed.</p>
          <p>
	    Own Id: OTP-8936</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.5.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Returning {return_group_result,failed} from end_per_group
	    in a group that is part of a sequence, did not cause the
	    proceeding cases (or groups) to get skipped. This has
	    been fixed.</p>
          <p>
	    Own Id: OTP-8753 Aux Id: seq11644 </p>
        </item>
        <item>
          <p>
	    ct:install now works as the documentation describes.</p>
          <p>
	    Own Id: OTP-8818 Aux Id: seq-11666 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Common Test has been updated to handle start options and
	    test specification terms for test case groups (and test
	    cases in groups). Also, an option named 'label', has been
	    added that associates the test run with a name that
	    Common Test prints in the overview HTML logs.</p>
          <p>
	    Own Id: OTP-8725 Aux Id: OTP-8727 </p>
        </item>
        <item>
          <p>
	    Andrey Pampukha has been added to the AUTHORS file. Thank
	    you Andrey for your work on configuration data handling,
	    Large Scale Testing improvements, and other useful
	    updates and fixes.</p>
          <p>
	    Own Id: OTP-8803</p>
        </item>
        <item>
          <p>
	    The Configuration Data chapter in the User's Guide has
	    been updated.</p>
          <p>
	    Own Id: OTP-8804</p>
        </item>
        <item>
          <p>
	    Milliseconds are now included in timestamps in Common
	    Test log entries. (Thanks to Tomas Johansson.)</p>
          <p>
	    Own Id: OTP-8808</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.5</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Process calls using monitors in Common Test would not
	    clear the inbox of remaining DOWN messages. This has been
	    fixed.</p>
          <p>
	    Own Id: OTP-8621 Aux Id: seq11560 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    It is now possible for the user to provide specific
	    callback modules that handle test configuration data, so
	    that data on arbitray form can be accessed (e.g. by
	    reading files or by communicating with a configuration
	    server process). Two default callback modules have been
	    introduced in Common Test: ct_config_plain and
	    ct_config_xml. The former is used to handle the
	    traditional Common Test configuration files (with terms
	    on key-value tuple form) and the latter to handle
	    configuration data on XML representation.</p>
          <p>
	    Own Id: OTP-8485</p>
        </item>
        <item>
          <p>
	    It is now possible to execute test suites that are not
	    necessarily available on the local file system, but have
	    been loaded on the test node in advance (e.g. sent as
	    binaries from a remote node and loaded by RPC). A
	    requirement is that the no_auto_compile (or
	    {auto_compile,false}) parameter has been set.</p>
          <p>
	    Own Id: OTP-8490 Aux Id: seq11500 </p>
        </item>
        <item>
          <p>
	    Test Server will now call the end_per_testcase/2 function
	    even if the test case has been terminated explicitly
	    (with abort_current_testcase/1), or after a timetrap
	    timeout. Under these circumstances the return value of
	    end_per_testcase is completely ignored. Therefore the
	    function will not be able to change the reason for test
	    case termination by returning {fail,Reason}, nor will it
	    be able to save data with {save_config,Data}.</p>
          <p>
	    Own Id: OTP-8500 Aux Id: seq11521 </p>
        </item>
        <item>
          <p>
	    It is now possible to use the test specification term
	    'init' to start Common Test nodes automatically, as well
	    as have initial function calls evaluated on the nodes. A
	    default callback module for the 'init' term, ct_slave,
	    has been introduced to enable Common Test Master to
	    perform host login and node startup operations over ssh.</p>
          <p>
	    Own Id: OTP-8570</p>
        </item>
        <item>
          <p>
	    The run_test script has been replaced by a program (with
	    the same name) which can be executed without explicit
	    installation. The start flags are the same as for the
	    legacy start script.</p>
          <p>
	    Own Id: OTP-8650</p>
        </item>
        <item>
          <p>
	    Previously, a repeat property of a test case group
	    specified the number of times the group should be
	    repeated after the main test run. I.e. {repeat,N} would
	    case the group to execute 1+N times. To be consistent
	    with the behaviour of the run_test repeat option, this
	    has been changed. N now specifies the absolute number of
	    executions instead.</p>
          <p>
	    Own Id: OTP-8689 Aux Id: seq11502 </p>
        </item>
        <item>
          <p>
	    With the run_test -erl_args option, it's possible to
	    divide the options on the run_test command line into ones
	    that Common Test should process (those preceding
	    -erl_args, and ones it should ignore (those succeeding
	    -erl_args). Options preceding -erl_args that Common Test
	    doesn't recognize are also ignored (i.e. the same
	    behaviour as earlier versions of Common Test).</p>
          <p>
	    Own Id: OTP-8690 Aux Id: OTP-8650 </p>
        </item>
        <item>
          <p>
	    Directories added with -pa or -pz in the pre-erl_args
	    part of the run_test command line will be converted from
	    relative to absolute, this to avoid problems loading user
	    modules when Common Test switches working directory
	    during the test run.</p>
          <p>
	    Own Id: OTP-8691 Aux Id: OTP-8650 </p>
        </item>
        <item>
          <p>
	    The timetrap handling has been made more user
	    controllable by means of new start options and new ct
	    interface functions. With the 'multiply_timetraps' start
	    option, it's possible to specify a value which all
	    timetrap timeout values get multiplied by. This is useful
	    e.g. to extend the timetraps temporarily while running
	    cover or trace. The 'scale_timetraps' start option
	    switches on or off the Test Server timetrap scaling
	    feature (which tries to detect if the tests may benefit
	    from extended timetraps, e.g. due to running certain test
	    tools, and performs the scaling automatically).
	    Furthermore, the ct:timetrap/1 function has been
	    introduced, which makes it possible to set/reset
	    timetraps during test execution. Also, a ct:sleep/1
	    function is now available, which takes the timetrap
	    parameters into account when calculating the time to
	    suspend the process.</p>
          <p>
	    Own Id: OTP-8693</p>
        </item>
        <item>
          <p>
	    A new run_test start option, event_handler_init, has been
	    added that takes a start argument which gets passed to
	    the init function of the event handler.</p>
          <p>
	    Own Id: OTP-8694</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.4.7</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    The auto compilation feature of Common Test did not
	    recognize if a header file included in a test suite was
	    modified (if the dir start flag/option was used). This
	    has been fixed.</p>
          <p>
	    Own Id: OTP-8396 Aux Id: seq11488, OTP-8311 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    The tc_status value in the Config list for a test case
	    that has failed because of a timetrap timeout, has
	    changed from {tc_status,timeout} to
	    {tc_status,timetrap_timeout}.</p>
          <p>
	    Own Id: OTP-8302</p>
        </item>
        <item>
	    <p>The documentation is now possible to build in an open
	    source environment after a number of bugs are fixed and
	    some features are added in the documentation build
	    process. </p>
	    <p>- The arity calculation is updated.</p>
	    <p>- The module prefix used in the function names for
	    bif's are removed in the generated links so the links
	    will look like
	    "http://www.erlang.org/doc/man/erlang.html#append_element-2"
	    instead of
	    "http://www.erlang.org/doc/man/erlang.html#erlang:append_element-2".</p>
	    <p>- Enhanced the menu positioning in the html
	    documentation when a new page is loaded.</p>
	    <p>- A number of corrections in the generation of man
	    pages (thanks to Sergei Golovan)</p>
	    <p>- The legal notice is taken from the xml book file so
	    OTP's build process can be used for non OTP
	    applications.</p>
          <p>
	    Own Id: OTP-8343</p>
        </item>
        <item>
          <p>
	    It is now possible to include the <c>ct.hrl</c> using the
	    -include_lib directive. (Thanks to Fred Hebert.)</p>
          <p>
	    Own Id: OTP-8379</p>
        </item>
        <item>
          <p>
	    The telnet client in Common Test sent [IAC,DO,NOP] to the
	    server in attempt to keep the connection alive. This is
	    not a valid sequence according to the standard, and some
	    telnet servers would terminate the connection because of
	    it. The client has been changed to send [IAC,NOP] every
	    10 secs instead, which should be a valid sequence. The
	    client does not negotiate this type of "keep alive"
	    message with the server, and if it causes problems, the
	    user may disable the keep alive feature by adding
	    {keep_alive,false} to the telnet configuration data for
	    the server/connection. Please see the ct_telnet and
	    unix_telnet manual pages for details.</p>
          <p>
	    Own Id: OTP-8450 Aux Id: OTP-8311 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.4.6</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    If the init_per_testcase/2 function fails, the test case
	    now gets marked and counted as auto skipped, not user
	    skipped (which would previously happen).</p>
          <p>
	    Own Id: OTP-8289</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    The documentation is now built with open source tools
	    (xsltproc and fop) that exists on most platforms. One
	    visible change is that the frames are removed.</p>
          <p>
	    Own Id: OTP-8201</p>
        </item>
        <item>
          <p>
	    For a failed test case, the tc_done event is supposed to
	    report info on the form {failed,Error}. Only Error was
	    reported, however, which has now been fixed.</p>
          <p>
	    Own Id: OTP-8235 Aux Id: seq-11414 </p>
        </item>
        <item>
          <p>
	    It is now possible to fail a test case from the
	    end_per_testcase/2 function, by returning {fail,Reason}.</p>
          <p>
	    Own Id: OTP-8284</p>
        </item>
        <item>
          <p>
	    It is now possible to fail a test case by having the
	    end_tc/3 framework function return {fail,Reason} for the
	    test case.</p>
          <p>
	    Own Id: OTP-8285</p>
        </item>
        <item>
          <p>
	    The test_server framework API (e.g. the end_tc/3
	    function) has been modified. See the test_server_ctrl
	    documentation for details.</p>
          <p>
	    Own Id: OTP-8286 Aux Id: OTP-8285, OTP-8287 </p>
        </item>
        <item>
          <p>
	    Various updates of the test events have been implemented.
	    The data field for some events, such as tc_done and
	    tc_auto_skip has been modified to make pattern matching
	    on the data easier and more consistent. Also the order in
	    which some events are received has been altered. E.g. the
	    tc_auto_skip event for a test case now comes after the
	    tc_done for the failed configuration function (not
	    before) which makes more sense. Note that no new events
	    have been added and that the event record remains
	    unchanged.</p>
          <p>
	    Own Id: OTP-8287 Aux Id: OTP-8235 </p>
        </item>
        <item>
          <p>
	    The marquee used for test names on the all_runs.html page
	    has been removed on request. Note that the test name
	    field has the full text string in a title tag, which is
	    displayed when hovering the mouse pointer over it (i.e.
	    if the web browser supports title tags).</p>
          <p>
	    Own Id: OTP-8288</p>
        </item>
        <item>
          <p>
	    It is now possible to refresh the top level index files
	    in an arbitrary log directory by specifying a
	    {refresh_logs,LogDir} tuple in the ct:run_test/1 options
	    list. Also the -refresh_logs flag for the run_test script
	    has been extended to take an optional LogDir argument,
	    i.e. -refresh_logs [LogDir]. If no LogDir is specified,
	    current working directory is assumed, unless the log
	    directory is set with the -logdir flag.</p>
          <p>
	    Own Id: OTP-8290</p>
        </item>
        <item>
          <p>
	    It was previously required that test suites were located
	    under a test object (or OTP application) sub-directory
	    named "test" (or under a directory named
	    "&lt;testobject&gt;_test"). This has been changed so that
	    Common Test now looks for suites primarily in a test
	    sub-directory only if the directory exists. Otherwise it
	    will assume the suites are stored in the same directory
	    the user specifies with e.g. the 'dir' start flag/option.</p>
          <p>
	    Own Id: OTP-8294</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.4.5</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    The Common Test logger process crashed if a test case in
	    a sequence (declared with sequences/0) failed. This fault
	    has been corrected.</p>
          <p>
	    Own Id: OTP-8089 Aux Id: seq11334 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Various updates and fixes in Common Test and Test Server.</p>
          <p>
	    Own Id: OTP-8045 Aux Id: OTP-8089,OTP-8105,OTP-8163 </p>
        </item>
        <item>
          <p>
	    Errors in coverage data collection and analysis were
	    difficult to detect. The logging has been improved so
	    that more information about e.g. imported and missing
	    modules is printed to the html log files.</p>
          <p>
	    Own Id: OTP-8163 Aux Id: seq11374 </p>
        </item>
        <item>
          <p>
	    The Common Test HTML overview pages have been improved.
	    It is now possible to see if a test case has been skipped
	    explicitly or because a configuration function has
	    failed. Also, the history page (all_runs.html) now has
	    scrolling text displaying the test names. The old format
	    (showing names as a truncated string) can still be
	    generated by means of the flag/option 'basic_html'.</p>
          <p>
	    Own Id: OTP-8177</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.4.2</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Various corrections and improvements of Common Test and
	    Test Server.</p>
          <p>
	    Own Id: OTP-7981</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.4.1</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Minor updates and corrections.</p>
          <p>
	    Own Id: OTP-7897</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.4</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    A support client module for SSH and SFTP, ct_ssh, has
	    been introduced in Common Test.</p>
          <p>
	    Own Id: OTP-7838</p>
        </item>
        <item>
          <p>
	    Test case groups have been introduced. With this feature
	    it's possible to execute groups (possibly nested) of test
	    cases, each group wrapped with a call to function
	    init_per_group/2 and end_per_group/2. Group definitions
	    are done by means of the new call-back function groups/0,
	    which should return a list of definitions. A group
	    definition contains a name tag, a list of properties and
	    a list of test cases (including possible nested group
	    definitions). The properties make it possible to execute
	    test cases in parallel, in sequence and in shuffled
	    order. It is also possible to repeat test cases according
	    to different criterias. The properties can be combined,
	    making it possible to e.g. repeat a conf case a certain
	    number of times and execute the test cases in different
	    (random) order every time. Available properties are:
	    parallel, sequence, shuffle, repeat, repeat_until_all_ok,
	    repeat_until_any_ok, repeat_until_any_fail and
	    repeat_until_all_fail. Please see the Common Test User's
	    Guide for details.</p>
          <p>
	    Own Id: OTP-7839 Aux Id: OTP-7511 </p>
        </item>
        <item>
          <p>
	    It is now possible to use DES3 encrypted configuration
	    files with Common Test.</p>
          <p>
	    Own Id: OTP-7842 Aux Id: OTP-7838 </p>
        </item>
        <item>
          <p>
	    In previous versions of Common Test, only one FTP
	    connection could be opened per configuration target name.
	    This has been updated so that multiple connections may be
	    opened. The possibility to use named connections is still
	    supported.</p>
          <p>
	    Own Id: OTP-7853 Aux Id: OTP-7838 </p>
        </item>
        <item>
          <p>
	    The Erlang mode for Emacs has been updated with new and
	    modified skeletons for Common Test and TS. Syntax for
	    test case groups in Common Test (and conf cases with
	    properties in TS) has been added and a new minimal Common
	    Test suite skeleton has been introduced.</p>
          <p>
	    Own Id: OTP-7856</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.3.6</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            When running a test which includes all suites in a test
            directory, if the auto compilation would fail for one
            suite, all following suites would be excluded from the
            test. This was an unwanted behaviour and has been
            corrected. Now all suites will always be compiled and
            only the failing ones excluded from the test (and logged
            as missing).</p>
          <p>
            Own Id: OTP-7750 Aux Id: OTP-7803 </p>
        </item>
        <item>
          <p>
            The step functionality in Common Test (based on
            interaction with Debugger) was broken. This has been
            fixed, and some new step features have also been added.
            Please see the Common Test User's Guide for details.</p>
          <p>
            Own Id: OTP-7800 Aux Id: seq11106 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            It is now possible for the user to specify include
            directories that Common Test will pass along to the
            compiler when suite and help modules are being compiled
            (which Common Test performs automatically before running
            tests).</p>
          <p>
            Own Id: OTP-7803 Aux Id: OTP-7750 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.3.5</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            If the Erlang runtime system was started without access
            to an erlang shell (e.g. -noshell), compilation errors
            would cause a crash in the Common Test application.
            Without access to a shell, Common Test can not prompt the
            user to choose to continue or abort the test session, but
            must assume that the session should proceed.</p>
          <p>
            Own Id: OTP-7749 Aux Id: seq11175, seq11180 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            It is now possible for the Common Test user to disable
            the auto-compile feature. This is done by specifying the
            run_test flag -no_auto_compile, or the ct:run_test/1
            option {auto_compile,false}.</p>
          <p>
            Own Id: OTP-7663</p>
        </item>
        <item>
          <p>
            A new function, ct:get_config/3, has been added to Common
            Test that makes it possible to - if a particular config
            variable has been defined in multiple config files -
            return all matching values for the variable. The order of
            the elements in the returned list is the same as the
            specified order of the config files.</p>
          <p>
            Own Id: OTP-7758 Aux Id: seq11158 </p>
        </item>
        <item>
          <p>
            Because a telnet connection was always identified by a
            config variable alias, it was impossible to open multiple
            connections using the same telnet host data entry in the
            config file. This limitation has been removed by making
            it possible to associate a connection with handle value
            only (i.e. multiple connections may be opened using the
            same config variable). See ct_telnet:open/4 for details.</p>
          <p>
            Own Id: OTP-7781</p>
        </item>
        <item>
          <p>
            A new syntax for defining default config data values has
            been introduced. In previous versions of Common Test, to
            define and access a default value for a config variable
            (in the suite info- or test case info function), an alias
            name had to be used. With the new syntax you may define
            default values without reference to aliases, like this:
            {default_config,VarName,DefaultValue}. Please see the
            User's Guide for more info.</p>
          <p>
            Own Id: OTP-7782</p>
        </item>
        <item>
          <p>
            In previous versions of Common Test, whenever a config
            variable got associated with a name (by means of a
            require statement), the config variable name was replaced
            with the new name. This introduced unwanted dependencies
            between test cases (e.g. if one test case would introduce
            a new name, the following test cases could no longer
            access the config data by means of the original
            variable). This functionality has now been updated so
            that when new names are introduced with require, they
            become aliases (references) instead of replacements.
            Hence, config data elements can always, at any time, be
            accessed by means of the original config variable names.</p>
          <p>
            Own Id: OTP-7783</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.3.4</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Common Test now uses the re application instead of the
	    previous rx driver to perform regular expression matching
	    on telnet strings. Since re works on all supported
	    operating systems, it is now possible to run telnet
	    sessions also on platforms such as e.g. Windows (which
	    was not the case with the previous rx driver). Note that
	    the rx driver is obsolete from now on, and will be
	    removed from Common Test after OTP R12B.</p>
          <p>
	    Own Id: OTP-7528</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.3.3</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Various updates and improvements, plus some minor bug
	    fixes, have been implemented in Common Test and Test
	    Server.</p>
          <p>
	    Own Id: OTP-7112</p>
        </item>
        <item>
          <p>
	    It is now possible, by means of the new function
	    ct:abort_current_testcase/1 or
	    test_server_ctrl:abort_current_testcase/1, to abort the
	    currently executing test case.</p>
          <p>
	    Own Id: OTP-7518 Aux Id: OTP-7112 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.3.2</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    The configure test of the rx lib in Common Test was not
	    performed during the general OTP application
	    configuration phase. This made e.g. autoconf impossible.
	    This has been changed to correspond with the normal OTP
	    build procedure.</p>
          <p>
	    Own Id: OTP-7379</p>
        </item>
      </list>
    </section>

</section>

<section><title>Common_Test 1.3.1</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    The rx library, included with common_test, failed to
	    build on on some architectures because the -fPIC compiler
	    option was missing.</p>
          <p>
	    Own Id: OTP-7111</p>
        </item>
      </list>
    </section>

</section>

  <section><title>common_test 1.3.0</title>
  </section>
</chapter>





