<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE chapter SYSTEM "chapter.dtd">

<chapter>
  <header>
    <copyright>
      <year>2004</year><year>2013</year>
      <holder>Ericsson AB. All Rights Reserved.</holder>
    </copyright>
    <legalnotice>
      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at
 
          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.

    </legalnotice>

    <title>asn1 Release Notes</title>
    <prepared>otp_appnotes</prepared>
    <docno>nil</docno>
    <date>nil</date>
    <rev>nil</rev>
    <file>notes.xml</file>
  </header>
  <p>This document describes the changes made to the asn1 application.</p>


<section><title>Asn1 4.0</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Many bugs have been eliminated in the the ASN.1 compiler
	    so that it can now successfully compile many more ASN.1
	    specifications. Error messages have also been improved.</p>
          <p>
	    Own Id: OTP-12395</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
	    <p>The documentation for <c>asn1ct:test/1,2,3</c> and
	    <c>asn1ct:value/2</c> has been updated with information
	    about the limitations of the functions.</p>
          <p>
	    Own Id: OTP-12765 Aux Id: seq12866, seq12867 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 3.0.4</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
	    <p>The ASN.1 compiler would crash if a SEQUENCE ended
	    with a double set of ellipses (<c>...</c>).</p>
          <p>
	    Own Id: OTP-12546 Aux Id: seq12815 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 3.0.3</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    When decoding BER, primitives with an indefinite length
	    will be immediately rejected. (Thanks to Simon Cornish
	    for reporting this bug.)</p>
          <p>
	    Own Id: OTP-12205</p>
        </item>
        <item>
          <p>
	    BER: A bug with compliance to X.680 (200811) s31.2.7 has
	    been fixed. Basically, when TagDefault is AUTOMATIC then
	    tags are IMPLICIT unless EXPLICIT is given.</p>
          <p>
	    Own Id: OTP-12318</p>
        </item>
        <item>
          <p>
	    Usage of the <c>EXTERNAL</c> 1994 variant type was
	    broken.</p>
          <p>
	    Own Id: OTP-12326</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 3.0.2</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Several problems where the ASN.1 compiler would crash
	    when attempting to compile correct specifications have
	    been corrected.</p>
          <p>
	    Own Id: OTP-12125</p>
        </item>
        <item>
          <p>
	    Robustness when decoding incorrect BER messages has been
	    improved.</p>
          <p>
	    Own Id: OTP-12145</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 3.0.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    The ASN.1 compiler now generates code that don't trigger
	    Dialyzer warnings. Along the way, a few minor bugs were
	    fixed.</p>
          <p>
	    Own Id: OTP-11372 Aux Id: seq12397 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 3.0</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Subtyping an extensible ENUMERATED would cause an
	    compilation error. (Thanks to Morten Nygaard Ã…snes for
	    reporting this bug.)</p>
          <p>
	    Own Id: OTP-11700</p>
        </item>
        <item>
	    <p>When specifying the value for an OCTET STRING in a
	    specification, the ASN.1 standard clearly states that the
	    value must be either a bstring or an hstring, but NOT a
	    cstring. The ASN.1 compiler will now generate a
	    compilation error if the value of an OCTET STRING is
	    given as a character string.</p>
	    <p>That is, the following example is now illegal:</p>
	    <p><c>string OCTET STRING ::= "Now illegal"</c></p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-11727</p>
        </item>
        <item>
          <p>
	    Application upgrade (appup) files are corrected for the
	    following applications: </p>
          <p>
	    <c>asn1, common_test, compiler, crypto, debugger,
	    dialyzer, edoc, eldap, erl_docgen, et, eunit, gs, hipe,
	    inets, observer, odbc, os_mon, otp_mibs, parsetools,
	    percept, public_key, reltool, runtime_tools, ssh,
	    syntax_tools, test_server, tools, typer, webtool, wx,
	    xmerl</c></p>
          <p>
	    A new test utility for testing appup files is added to
	    test_server. This is now used by most applications in
	    OTP.</p>
          <p>
	    (Thanks to Tobias Schlager)</p>
          <p>
	    Own Id: OTP-11744</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    By giving --enable-static-{nifs,drivers} to configure it
	    is now possible to statically linking of nifs and drivers
	    to the main Erlang VM binary. At the moment only the asn1
	    and crypto nifs of the Erlang/OTP nifs and drivers have
	    been prepared to be statically linked. For more details
	    see the Installation Guide in the System documentation.</p>
          <p>
	    Own Id: OTP-11258</p>
        </item>
        <item>
	    <p>Code generation for the <c>per</c> and <c>uper</c>
	    backends has been somewhat improved.</p>
          <p>
	    Own Id: OTP-11573</p>
        </item>
        <item>
	    <p>The OCTET STRING and BIT STRING types now have a more
	    natural mapping to Erlang types (binary and bitstring,
	    respectively), which is more efficient and will avoid
	    useless conversions between lists and
	    binaries/bitstrings.</p>
	    <p>This is an incompatible change. To revert to the old
	    mapping to support existing applications, use the
	    <c>legacy_erlang_types</c> option.</p>
	    <p>Impact: There is a potential for better performance,
	    as it is now possible to avoid conversions between lists
	    and binaries both in the generated ASN.1 encode/decode
	    code and in the application itself.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-11594</p>
        </item>
        <item>
	    <p>All functions in the <c>asn1rt</c> module, as well as
	    <c>asn1ct:decode/3</c> and <c>asn1ct:encode/3</c>, are
	    now deprecated.</p>
          <p>
	    Own Id: OTP-11731</p>
        </item>
        <item>
          <p>
	    Generated .hrl files are now protected from being
	    included more than once.</p>
          <p>
	    Own Id: OTP-11804</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0.4</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    The default value for a <c>BIT STRING</c> would not
	    always be recognized, causing the encoding to be
	    incorrect for the DER/PER/UPER encodings.</p>
          <p>
	    Own Id: OTP-11319</p>
        </item>
        <item>
          <p>
	    The <c>asn1</c> application would fail to build if the
	    <c>.erlang</c> file printed something to standard output.</p>
          <p>
	    Own Id: OTP-11360</p>
        </item>
        <item>
	    <p>An union of integer ranges in an INTEGER constraint
	    could sometimes be interpreted as the intersection of the
	    range.</p>
          <p>
	    Own Id: OTP-11411 Aux Id: seq12443 </p>
        </item>
        <item>
          <p>
	    Extensible, multiple single value constraints (such as
	    <c>INTEGER (1|17, ...)</c>) would be incorrectly encoded.</p>
          <p>
	    Own Id: OTP-11415</p>
        </item>
        <item>
          <p>
	    The ASN.1 compiler would fail to compile a constraint
	    with values given for for the extension part (such as
	    <c>INTEGER (1..10, ..., 11..20)</c>).</p>
          <p>
	    Own Id: OTP-11504</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    The new option '<c>no_ok_wrapper</c>' generates
	    M:encode/2 and M:decode/2 functions that don't wrap the
	    return value in an {ok,...} tuple.</p>
          <p>
	    Own Id: OTP-11314</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0.3</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Open types greater than 16383 bytes will now be correctly
	    encoded and decoded.</p>
          <p>
	    Own Id: OTP-11262 Aux Id: seq12386, OTP-11223 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
	    <p>For the PER and UPER formats, code generation
	    especially for encoding has been improved.</p>
	    <p>When encoding BIT STRINGs, values longer than the
	    maximum size for the BIT STRING type would be truncated
	    silently - they now cause an exception.</p>
	    <p>Open types greater than 16383 bytes will now be
	    correctly encoded and decoded.</p>
	    <p>IMPORTANT NOTE: For ASN.1 specifications that depend
	    on each other, such as the S1AP-* specifications, it is
	    important to recompile all specifications (compiling some
	    with this version of the compiler and some with an older
	    version will not work).</p>
          <p>
	    Own Id: OTP-11300</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0.2</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Fix some Makefile rules that didn't support silent rules.
	    Thanks to Anthony Ramine.</p>
          <p>
	    Own Id: OTP-11111</p>
        </item>
        <item>
	    <p>PER/UPER: A semi-constrained INTEGER with a non-zero
	    lower bound would be incorrectly decoded. This bug was
	    introduced in R16.</p>
	    <p>PER/UPER: Given <c>INTEGER (10..MAX, ...)</c>,
	    attempting to decode any integer below 10 would cause the
	    encoder to enter an infinite loop.</p>
	    <p>PER/UPER: For a type with an extensible SIZE
	    constraint, sizes outside of the root range were
	    incorrectly encoded.</p>
	    <p>Given a constraint such as <c>(SIZE (5, ...))</c>,
	    encoding a size less than 5 would fail (PER/UPER).
	    Similarly, for BER decoding would fail.</p>
	    <p>PER: The encoder did not align a known multiplier
	    string (such as IA5String) of length 16 bits (exactly) to
	    an octet boundary.</p>
	    <p>In rare circumstances, DEFAULT values for the UPER
	    backend could be wrongly encoded.</p>
          <p>
	    Own Id: OTP-11134</p>
        </item>
        <item>
	    <p>UPER: The compiler would crash when compiling an
	    ENUMERATED having more than 63 extended values.</p>
	    <p>PER/UPER: A SEQUENCE with more 64 extended values
	    could not be decoded.</p>
          <p>
	    Own Id: OTP-11153</p>
        </item>
        <item>
          <p>
	    When decoding a SEQUENCE defined inline inside a an
	    extension addition group, the record named generated by
	    the decoding code would not match the name in the
	    generated .hrl file.</p>
          <p>
	    Own Id: OTP-11154 Aux Id: seq12339 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
	    <p> Postscript files no longer needed for the generation
	    of PDF files have been removed. </p>
          <p>
	    Own Id: OTP-11016</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0.1.2</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    When an object set is an actual parameter, the extension
	    marker for the object set could get lost (which would
	    cause the decoding of unknown values to fail).</p>
          <p>
	    Own Id: OTP-10995 Aux Id: seq12290 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0.1.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
	    <p>The generated decoder for the 'per' and 'uper'
	    backends did not correctly decode ENUMERATEDs with a
	    single value.</p>
	    <p>The generated encoder for the 'per' and 'uper'
	    backends generated an empty binary for a top-level type
	    that did not need to be encoded (such as an ENUMERATED
	    with a single value). The correct result should be a
	    binary containing a 0 byte.</p>
          <p>
	    Own Id: OTP-10916 Aux Id: seq12270 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Fixed broken table constraints within a SET OF or
	    SEQUENCE OF for the BER backend.</p>
          <p>
	    Own Id: OTP-10853 Aux Id: seq12245 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 2.0</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Encoding SEQUENCEs with multiple extension addition
	    groups with optional values could fail (depending both on
	    the specification and whether all values were provided).</p>
          <p>
	    Own Id: OTP-10664</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
	    <p>The options for the ASN.1 compiler has been
	    drastically simplified. The backend is chosen by using
	    <c>ber</c>, <c>per</c>, or <c>uper</c>. The options
	    <c>optimize</c>, <c>nif</c>, and <c>driver</c> are no
	    longer needed. The old options will still work, but will
	    issue a warning.</p>
	    <p>Another change is that generated <c>encode/2</c>
	    function will always return a binary (some backends used
	    to return an iolist).</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-10410 Aux Id: kunagi-254 [165] </p>
        </item>
        <item>
          <p>
	    The ASN.1 compiler generates faster decode functions for
	    PER and UPER. Some minor improvements have also been made
	    for PER/UPER encoding, and to the BER backend.</p>
          <p>
	    Own Id: OTP-10519 Aux Id: kunagi-322 [233] </p>
        </item>
        <item>
	    <p>The ASN.1 compiler will now always include necessary
	    run-time functions in the generated Erlang modules
	    (except for <c>asn1rt_nif</c> which is still neeeded). If
	    the option '<c>inline</c>' is used the ASN.1 compiler
	    will generate a warning. But if
	    '<c>{inline,OutputFile}</c>' is use, the ASN.1 compiler
	    will refuse to compile the file. (Use a <c>.set.asn</c>
	    file if you need to remove the output file.)</p>
	    <p>The '<c>BIT STRING</c>' type will now be decoded as
	    Erlang bitstrings by default. Use the new
	    <c>legacy_bit_string</c> option to encode as lists of
	    ones and zeroes. (The <c>compact_bit_string</c> option
	    still works as before.)</p>
	    <p>Open types are now always returned as binaries (when
	    there is no information allowing them to be decoded).</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-10588 Aux Id: kunagi-341 [252] </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.8.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    ASN.1 decoders generated with the options <c>-bber_bin
	    +optimize +nif</c> would decode open types with a size
	    larger than 511 incorrectly. That bug could cause
	    decoding by <c>public_key</c> to fail. The bug was in the
	    NIF library <c>asn1_erl_nif.so</c>; therefore there is no
	    need re-compile ASN.1 specifications that had the
	    problem.</p>
          <p>
	    Own Id: OTP-10805 Aux Id: seq12244 </p>
        </item>
        <item>
          <p>
	    Encoding SEQUENCEs with multiple extension addition
	    groups with optional values could fail (depending both on
	    the specification and whether all values were provided).</p>
          <p>
	    Own Id: OTP-10811 Aux Id: OTP-10664 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.8</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Encoding and decoding of integer ranges can now be done
	    with an upper bound larger than the previous limit of
	    16^10. The new upper bound in per encoding and decodings
	    for constrained whole numbers is 2^2040 (close to 16^508)</p>
          <p>
	    Own Id: OTP-10128</p>
        </item>
        <item>
          <p>
	    Per encoding/decoding now works correctly for single
	    value subtyping of an integer type where a subtype is a
	    predefined value. Previously a predefined value could
	    cause a non-valid range-check in the generated Erlang
	    code for per encoding/decoding due to a bug in the
	    constraint checking.</p>
          <p>
	    Own Id: OTP-10139</p>
        </item>
        <item>
          <p>
	    Fix typo error in selected decode function (Thanks to
	    Artem Teslenko)</p>
          <p>
	    Own Id: OTP-10152</p>
        </item>
        <item>
          <p>
	    Better error indication when detecting unexpected tags
	    during decoding of BER encoded data.</p>
          <p>
	    Own Id: OTP-10186</p>
        </item>
        <item>
          <p>
	    asn1rt_check: Fix transform_to_EXTERNAL1990 for binary
	    input (Thanks to Harald Welte)</p>
          <p>
	    Own Id: OTP-10233</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Add support for multiple ExtensionAdditionGroups</p>
          <p>
	    Own Id: OTP-10058</p>
        </item>
        <item>
          <p>
	    Add support for extensible enumeration types in n2n
	    generated functions.</p>
          <p>
	    Own Id: OTP-10144</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.7</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Some ASN.1 INTEGER type and SEQUENCE constructor variants
	    previously not handled by the ASN.1 compiler are now
	    correctly handled</p>
          <p>
	    Own Id: OTP-9688</p>
        </item>
        <item>
          <p>
	    An INTEGER with a value constraint where unions are used
	    e.g. X1 ::= INTEGER (1..4 | 6 | 8 | 10 | 20) is not
	    handled correctly. For PER the value is encoded in wrong
	    number of bits.</p>
          <p>
	    Own Id: OTP-9946</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.19</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    The linked-in driver used for ber decode and per encode
	    has been replaced with nifs. To enable the usage of nifs
	    pass the nif option to erlc or asn1rt:compile when
	    compiling. If you previously used the linked-in driver,
	    you have to recompile your ASN1 modules with the current
	    version of asn1 application as the linked-in driver
	    modules have been removed.</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-9419</p>
        </item>
        <item>
          <p>
	    A few of the heavy calculations which are done for
	    encoding and decoding operations when dealing with
	    SEQUENCE OF and DEFAULT in runtime have been moved to be
	    done in compile time instead.</p>
          <p>
	    Own Id: OTP-9440</p>
        </item>
        <item>
          <p>
	    When compiling an ASN.1 ber module with the +nif option,
	    the module will use a new nif for ber encoding,
	    increasing performance by about 5%.</p>
          <p>
	    Own Id: OTP-9441</p>
        </item>
        <item>
          <p>
	    Tuple funs (a two-element tuple with a module name and a
	    function) are now officially deprecated and will be
	    removed in R16. Use '<c>fun M:F/A</c>' instead. To make
	    you aware that your system uses tuple funs, the very
	    first time a tuple fun is applied, a warning will be sent
	    to the error logger.</p>
          <p>
	    Own Id: OTP-9649</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.18</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Implement or fix -Werror option</p>
          <p>
	    If -Werror is enabled and there are warnings no output
	    file is written. Also make sure that error/warning
	    reporting is consistent. (Thanks to Tuncer Ayaz)</p>
          <p>
	    Own Id: OTP-9536</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.17</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Test cases which started failing when timer:tc was
	    changed to not catch are corrected.</p>
          <p>
	    Own Id: OTP-9286</p>
        </item>
        <item>
          <p>
	    The bounds checking in the asn1_erl_driver when the
	    length value of a TLV is a Long Definite Length is
	    corrected. Thanks to Vance Shipley.</p>
          <p>
	    Own Id: OTP-9303</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.16</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    asn1ct: Make formatting of errors and warnings consistent</p>
          <p>
	    Consistently format warning and error reports. Warning
	    and error options from erlc now also work in asnc1ct.
	    (thanks to Tuncer Ayaz)</p>
          <p>
	    Own Id: OTP-9062</p>
        </item>
        <item>
          <p>
	    Shut off some dialyzer warnings</p>
          <p>
	    Own Id: OTP-9063</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Crash in asn1ct_check, componentrelation_leadingattr
	    fixed. (Thanks to Stephane Pamelard for finding the bug)</p>
          <p>
	    Own Id: OTP-9092</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.15</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    The encoding of ExtensionAdditionGroup (for PER and UPER)
	    is corrected.</p>
          <p>
	    Own Id: OTP-8866 Aux Id: OTP-8797, SEQ-11557 </p>
        </item>
        <item>
          <p>
	    A race condition when several processes in parallel start
	    to do encode/decode using the driver could cause an error
	    log regarding crashing port owner process. This race is
	    now eliminated.</p>
          <p>
	    Own Id: OTP-8948 Aux Id: seq11733 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.14.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Extension Addition Groups are now supported by the parser
	    and in all backends.</p>
          <p>
	    Own Id: OTP-8598 Aux Id: seq-11557 </p>
        </item>
        <item>
          <p>
	    Extension Addition Groups are now supported in nested
	    types within a SEQUENCE and CHOICE as well (missed that
	    in previous fix)</p>
          <p>
	    Own Id: OTP-8797 Aux Id: seq-11557 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    Bug in UNALIGNED PER regarding encoding and decoding of
	    constrained numbers with a valuerange > 1024. (Thanks to
	    Vincent de Phily)</p>
          <p>
	    Own Id: OTP-8779</p>
        </item>
        <item>
          <p>
	    Minor corrections in the User Guide.</p>
          <p>
	    Own Id: OTP-8829</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.14</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
	    By default, the ASN.1 compiler is now silent in the
	    absence of warnings or errors. The new '<c>verbose</c>'
	    option or the '<c>-v</c>' option for <c>erlc</c> can be
	    given to show extra information (for instance, about the
	    files that are generated). (Thanks to Tuncer Ayaz.)</p>
          <p>
	    Own Id: OTP-8565</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.13</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Harmless buffer overflow by one byte in asn1 and
	    ram_file_drv.</p>
          <p>
	    Own Id: OTP-8451</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
	    <p>Cross compilation improvements and other build system
	    improvements.</p>
	    <p>Most notable:</p> <list><item> Lots of cross
	    compilation improvements. The old cross compilation
	    support was more or less non-existing as well as broken.
	    Please, note that the cross compilation support should
	    still be considered as experimental. Also note that old
	    cross compilation configurations cannot be used without
	    modifications. For more information on cross compiling
	    Erlang/OTP see the <c>$ERL_TOP/INSTALL-CROSS.md</c> file.
	    </item><item> Support for staged install using <url
	    href="http://www.gnu.org/prep/standards/html_node/DESTDIR.html">DESTDIR</url>.
	    The old broken <c>INSTALL_PREFIX</c> has also been fixed.
	    For more information see the <c>$ERL_TOP/INSTALL.md</c>
	    file. </item><item> Documentation of the <c>release</c>
	    target of the top <c>Makefile</c>. For more information
	    see the <c>$ERL_TOP/INSTALL.md</c> file. </item><item>
	    <c>make install</c> now by default creates relative
	    symbolic links instead of absolute ones. For more
	    information see the <c>$ERL_TOP/INSTALL.md</c> file.
	    </item><item> <c>$ERL_TOP/configure --help=recursive</c>
	    now works and prints help for all applications with
	    <c>configure</c> scripts. </item><item> Doing <c>make
	    install</c>, or <c>make release</c> directly after
	    <c>make all</c> no longer triggers miscellaneous
	    rebuilds. </item><item> Existing bootstrap system is now
	    used when doing <c>make install</c>, or <c>make
	    release</c> without a preceding <c>make all</c>.
	    </item><item> The <c>crypto</c> and <c>ssl</c>
	    applications use the same runtime library path when
	    dynamically linking against <c>libssl.so</c> and
	    <c>libcrypto.so</c>. The runtime library search path has
	    also been extended. </item><item> The <c>configure</c>
	    scripts of <c>erl_interface</c> and <c>odbc</c> now
	    search for thread libraries and thread library quirks the
	    same way as <c>erts</c> do. </item><item> The
	    <c>configure</c> script of the <c>odbc</c> application
	    now also looks for odbc libraries in <c>lib64</c> and
	    <c>lib/64</c> directories when building on a 64-bit
	    system. </item><item> The <c>config.h.in</c> file in the
	    <c>erl_interface</c> application is now automatically
	    generated in instead of statically updated which reduces
	    the risk of <c>configure</c> tests without any effect.
	    </item></list>
	    <p>(Thanks to Henrik Riomar for suggestions and
	    testing)</p>
	    <p>(Thanks to Winston Smith for the AVR32-Linux cross
	    configuration and testing)</p>
          <p>
	    *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
	    Own Id: OTP-8323</p>
        </item>
        <item>
          <p>
	    Add support for prefixing macro names generated by the
	    compiler</p>
          <p>
	    This is useful when multiple protocols that contains
	    macros with identical names are included in a single
	    module.</p>
          <p>
	    Add the missing <c>record_name_prefix</c> compiler option
	    to the documentation.</p>
          <p>
	    Own Id: OTP-8453</p>
        </item>
        <item>
          <p>
	    Cleanups suggested by tidier and modernization of types
	    and specs.</p>
          <p>
	    Own Id: OTP-8455</p>
        </item>
        <item>
          <p>
	    Support for <c>EXTENSIBILITY IMPLIED</c> and <c>SET/SEQ
	    OF NamedType</c> is added.</p>
          <p>
	    Own Id: OTP-8463</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.12</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            The documentation is now built with open source tools
            (xsltproc and fop) that exists on most platforms. One
            visible change is that the frames are removed.</p>
          <p>
            Own Id: OTP-8256</p>
        </item>
      </list>
    </section>

</section>


<section><title>Asn1 1.6.11</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            A new option <c>{n2n,TypeName}</c> can be used to
	    enable generation of conversion functions from name to number 
	    and vice versa for selected ENUMERATION types. 
	    The option can be repeated many times in order to specify several 
	    types in the same file.<br/>
	    If the <c>TypeName</c> specified does not exists or is not an 
	    ENUMERATION type, the compilation will be terminated with an 
	    error code.<br/>
	    Below follows an example on how to use the option from the command line with <c>erlc</c>:<br/>
	    <c>erlc -bper+"{n2n,'CauseMisc'}" +"{n2n,'CausePcl'}" MyModyle.asn</c>
	  </p>
          <p>
            Own Id: OTP-8136 Aux Id: seq11347 </p>
        </item>
        <item>
          <p>
            Range checks added for BIT STRING with fixed SIZE
            constraint.</p>
          <p>
            Own Id: OTP-7972 Aux Id: seq11280 </p>
        </item>
        <item>
          <p>
            Now support multiple-line comments in asn1-specs as
            specified in ASN1 X.680 (07/2002), section 11.6.4</p>
          <p>
            Own Id: OTP-8043</p>
        </item>
        <item>
          <p>
            Now parses and adds abstract syntax for PATTERN subtype
            constraint. No other action is taken on this type of
            constraint.</p>
          <p>
            Own Id: OTP-8046</p>
        </item>
        <item>
          <p>
            The ASN1 subtype constraint <c>CONTAINING Type</c>,
            <c>CONTAINING Type ENCODED BY Value</c> and <c>ENCODED BY
            Value</c> now is parsed. Abstract syntax is added but no
            further action in generated code is taken.</p>
          <p>
            Own Id: OTP-8047</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.10</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            A faulty receive case that catch-ed all messages in the
            initialization of the driver has been removed, the
            initialization has been restructured.</p>
          <p>
            Own Id: OTP-7954 Aux Id: seq11220 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            The anonymous part of the decode that splits the ASN1 TLV
            into Tag Value tuples has been optimized.</p>
          <p>
            Own Id: OTP-7953</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.9</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Error that caused crash when drivers were loaded is now
            corrected. Parallel driver for asn1 now enabled.</p>
          <p>
            Own Id: OTP-7904 Aux Id: seq11220 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Optimized code for ENUMERATION type in encoder/decoder.</p>
          <p>
            Own Id: OTP-7909</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.8.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Removed parallel-driver functionality due to failure
            when loading the driver.</p>
          <p>
            Own Id: OTP-7900 Aux Id: seq11220 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Generated code now uses guards that is not obsolete, e.g.
            <c>is_integer/1</c> instead of <c>integer/1</c>.</p>
          <p>
            Own Id: OTP-7910</p>
        </item>
      </list>
    </section>

</section>

 
<section><title>Asn1 1.6.8</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            A BIT STRING with a size constraint that has a single
            value and an extension as in <c> BIT STRING (SIZE
            (16,...))</c> was erroneous encoded/decoded. This is now
            corrected and follows X.691 Section 15.6.</p>
          <p>
            Own Id: OTP-7876 Aux Id: seq11220 </p>
        </item>
      </list>
    </section>

</section>
 <section><title>Asn1 1.6.7</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Now asn1 starts multiple drivers to enable simultaneous
            encode/decode in different processes for the
            asn1-backends using linked-in driver.</p>
          <p>
            Own Id: OTP-7801</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.6</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
	    Decode of an open_type when the value was empty tagged
	    type encoded with indefinite length failed. This is now
	    corrected.</p>
          <p>
	    Own Id: OTP-7759 Aux Id: seq11166 </p>
        </item>
        <item>
          <p>
	    Encode of BIT STRING with size of exact length, on
	    compact_bit_string format in UNALIGNED PER failed when
	    value had the right size, i.e. no padding needed.</p>
          <p>
	    Own Id: OTP-7763 Aux Id: seq11182 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.5</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            For a BIT STRING with SIZE constraint higher than 255
            compiled with <c>[per_bin,optimize,
            compact_bit_string]</c> an improper io-list was created
            and sent to the c-driver for complete encoding. This
            error has been resolved.</p>
          <p>
            Own Id: OTP-7734 Aux Id: seq11170 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.4</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            A a SEQUENCE OF with a type that is a CHOICE with
            ellipses occurred falsely a compile error. The error
            causing that is now removed.</p>
          <p>
            Own Id: OTP-7708 Aux Id: seq11136 </p>
        </item>
      </list>
    </section>

</section>
 
<section><title>Asn1 1.6.3</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            constrained number with a value-range greater than 512 now
            has the proper interpretation of the values that causes
            shift to the next number of units (bits), According to
            limit condition <c>2^m &lt; "range" =&lt; 2^(m + 1)</c> then the
            number of bits are m + 1.</p>
          <p>
            Own Id: OTP-7681 Aux Id: seq11114 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Can now handle default values of simple types that is
            provided on its own format, i.e. not just as
            asn1_DEFAULT.</p>
          <p>
            Own Id: OTP-7678 Aux Id: seq11114 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6.2</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            comparison of two value definitions failed due to new
            module name field in valuedef record. It is now
            corrected.</p>
          <p>
            Own Id: OTP-7608</p>
        </item>
      </list>
    </section>

</section>
 
<section><title>Asn1 1.6.1</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Bug regarding propagation of parameters of parameterized
            type fixed.</p>
          <p>
            Own Id: OTP-7174 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            A bug, related to instantiation of a parameterized type
            with a type definition in the parameter-list, has been
            removed. The definition of the parameter type was in
            another module than the instance definition causing
            limited module info.</p>
          <p>
            Own Id: OTP-7299 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Removed hard-coded name that may cause name collision.</p>
          <p>
            Own Id: OTP-7322 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Object set of a class with id with properties UNIQUE
            OPTIONAL and the id field is lacking in the object is for
            now treated as a object without a unique identifier, i.e.
            no table is generated for this object.</p>
          <p>
            Own Id: OTP-7332 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Compiler crashed when failed to handle a OID as
            ValueFromObject.</p>
          <p>
            Own Id: OTP-7476 Aux Id: seq10999 </p>
        </item>
        <item>
          <p>
            A corrupted encoding may cause a loop when a buffer of at
            least two bytes of zero matches tag and length of a SET
            component. This behavior occurred only with decoder
            generated with <c>ber</c> or <c>ber_bin</c> options. Now a
            control breaks the loop.</p>
          <p>
            Own Id: OTP-7533</p>
        </item>
        <item>
          <p>
            Encode of BIT STRING longer than 255 bits with a
            <c>SIZE(integer())</c> constraint caused a crash when
            spec was compiled with <c>per_bin, optimize</c> options.</p>
          <p>
            Own Id: OTP-7602 Aux Id: seq11079 </p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Now supports REAL type of base 2 and 10</p>
          <p>
            Own Id: OTP-7166 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            By the asn1 compiler option <c>{record_name_prefix
            Name}</c> a prefix is chosen to the name of the record
            generated in the .hrl and used in the generated .erl
            files.</p>
          <p>
            Own Id: OTP-7204 Aux Id: seq10853 </p>
        </item>
        <item>
          <p>
            The TypeFromObject production now covered</p>
          <p>
            Own Id: OTP-7295 Aux Id: seq10468 </p>
        </item>
        <item>
          <p>
            Extended support for ObjectSetFromObjects. Production
            occurred as a part of the RootElementSetSpec of the
            ObjectSetSpec. Added also support for Exclusion of
            Element in ObjectSetSpec.</p>
          <p>
            Own Id: OTP-7306 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Now implements RELATIVE-OID</p>
          <p>
            Own Id: OTP-7334 Aux Id: seq10864 </p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.6</title>
 
    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Now is ordering, according to the canonical order, of
            components in a SET added. Canonical order is described
            in X.691 9.2 and X.680 8.6</p>
          <p>
            Own Id: OTP-7375 Aux Id: unaligned PER </p>
        </item>
        <item>
          <p>
            The precedence rules for extended constraints have been
            misinterpreted. The rule says for instance that if there
            are more than one constraint on a type that have
            extension-mark, only the last of the extension-marks would
            be kept. This affects the encoding of PER and is now
            corrected.</p>
          <p>
            Own Id: OTP-7400 Aux Id: OTP-7335 </p>
        </item>
        <item>
          <p>
            A constrained number with a single-value constraint that
            is extensible was falsely encoded/decoded in
            aligned/unaligned PER. This is now corrected.</p>
          <p>
            Own Id: OTP-7403</p>
        </item>
      </list>
    </section>
 
 
    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            The ASN.1 compiler has got a new backend supporting PER
            UNALIGNED. Previously it was only support for PER
            ALIGNED.</p>
          <p>
            Own Id: OTP-7335</p>
        </item>
        <item>
          <p>
            Now the asn1-compiler handles unions and intersections of
            PermittedAlphabet constraints.</p>
          <p>
            Own Id: OTP-7374 Aux Id: unaligned PER </p>
        </item>
	<item>
          <p>
            With the undocumented option <c>no_final_padding</c> the
            whole encoded message is not padded to a border of a
            byte. Thus the returned encoded message is a
            <c>bitstring</c>.</p>
          <p>
            Own Id: OTP-7407</p>
        </item>
      </list>
    </section>
 
</section>

<section><title>Asn1 1.5.2</title>
 
    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            When duplicates of object fields were removed only one
            table access function for each unique identifier value
            was generated. This can occur when several object sets
            are merged by use of ObjectSetFromObjects.</p>
          <p>
            Own Id: OTP-7263 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            DER: For some complex types and components with reference
            to type in several steps the default value check function
            was not generated. This is now fixed.</p>
          <p>
            Own Id: OTP-7268 Aux Id: seq10684 </p>
        </item>
        <item>
          <p>
            Now is the tag in a tagged type as parameter propagated
            to the instance.</p>
          <p>
            Own Id: OTP-7273 Aux Id: seq10864 </p>
        </item>
      </list>
    </section>
 
 
    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Added type T61String that is similar to TeletexString</p>
          <p>
            Own Id: OTP-7264 Aux Id: seq10864 </p>
        </item>
      </list>
    </section>
 
</section>


<section><title>Asn1 1.5.1</title>
 
    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            A bug related to renaming of types has been fixed.This
            occurred using the .set.asn functionality.</p>
          <p>
            Own Id: OTP-7149 Aux Id: seq10853 </p>
        </item>
        <item>
          <p>
            syntax error in ASN1 value now correctly shown</p>
          <p>
            Own Id: OTP-7154 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Now a COMPONENTS OF construct in a parameterized type
            is expanded correctly</p>
          <p>
            Own Id: OTP-7155 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Now the asn1-compiler also handles empty SEQUENCE DEFAULT
            values as <c>{}</c>.</p>
          <p>
            Own Id: OTP-7169 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Now SelectionType gets the tag of the selected type.</p>
          <p>
            Own Id: OTP-7171 Aux Id: seq10864 </p>
        </item>
        <item>
          <p>
            Correction of generated code for decode of an open type
            in a SEQUECNE OF/ SET OF</p>
          <p>
            Own Id: OTP-7193 Aux Id: seq10875 </p>
        </item>
      </list>
    </section>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Misc improvements and bug corrections regarding default
            values.</p>
          <p>
            Own Id: OTP-7199 Aux Id: seq10864 </p>
        </item>
      </list>
    </section>
 

 
</section>
                                                                                
<section><title>Asn1 1.5</title>

    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Now generating records in .hrl file for instances of
            parameterized SEQUENCE or SET.</p>
          <p>
            Own Id: OTP-6835</p>
        </item>
        <item>
          <p>
            Optimization using bitstr in encode/decode functions. Active with
            <c>[per_bin, optimize]</c> options.</p>
          <p>
            *** POTENTIAL INCOMPATIBILITY ***</p>
          <p>
            Own Id: OTP-6882</p>
        </item>
      </list>
    </section>

</section>

<section><title>Asn1 1.4.6</title>

    <section><title>Fixed Bugs and Malfunctions</title>
      <list>
        <item>
          <p>
            Parsing and encoding/decoding of type constrained with
            SIZE with extension is now recovered.</p>
          <p>
            Own Id: OTP-6763</p>
        </item>
        <item>
          <p>
            <c>inline</c> failed because trying to use a removed
            module.</p>
          <p>
            Own Id: OTP-6769</p>
        </item>
        <item>
          <p>
            Fixed problem with a reference to a type from an object.
            The failure was caused bye change of type name when using
            <c>inline</c> option.</p>
          <p>
            Own Id: OTP-6770</p>
        </item>
        <item>
          <p>
            Handling of decode pattern for exclusive decode was false
            in the case when an un-decoded component had more than one
            following elements that should be decoded.</p>
          <p>
            Own Id: OTP-6786</p>
        </item>
      </list>
    </section>


    <section><title>Improvements and New Features</title>
      <list>
        <item>
          <p>
            Now the asn1-compiler supports two root lists in SEQUENCE
            and SET according to alternative three in
            ComponentTypeLists (X.680 07/2002 section 24.1), i.e.
            with an extension list between two ellipses.</p>
          <p>
            Own Id: OTP-5067 Aux Id: seq8452 </p>
        </item>
      </list>
    </section>

</section>

  <section>
    <title>Asn1 1.4.5</title>

    <section>
      <title>Fixed Bugs and Malfunctions</title>
      <list type="bulleted">
        <item>
          <p>Merging modules by <c>inline</c> earlier disabled the
            driver (used in modules generated with
            [optimized]/[optimized,driver] options). Now this is
            repaired.</p>
          <p>Own Id: OTP-6601</p>
        </item>
        <item>
          <p>Checking phase now aware of which module an INSTANCE OF
            is declared in.</p>
          <p>Own Id: OTP-6702</p>
        </item>
      </list>
    </section>

    <section>
      <title>Improvements and New Features</title>
      <list type="bulleted">
        <item>
          <p>The compiler now handle all forms of ObjectSetSpec
            according to ITU-T recommendation X.681 (ISO/IEC
            8824-2:2002).</p>
          <p>Own Id: OTP-6698</p>
        </item>
        <item>
          <p>Enhanced support of referencing object sets by
            ObjectSetFromObjects.</p>
          <p>Own Id: OTP-6707</p>
        </item>
        <item>
          <p>Support for parameterized object in an object set.</p>
          <p>Own Id: OTP-6717</p>
        </item>
      </list>
    </section>

    <!-- p>There are also release notes for <url href="notes_history.html">older versions</url>.</p -->
  </section>
</chapter>

